title: P2P订单系统设计笔记
date: 2016-03-06 18:30:20
tags: p2p 订单
---
### 第一代订单系统

1. **系统简介**
第一代订单系统，也可以说没有这个系统。因为所有功能集中在一个系统中，整个公司也就两个系统：一个是前端系统，给线上用户提供服务；另一个是后端系统，给运营人员使用的，做数据操作或者统计分析这些功能。

2. **系统缺陷**
这个系统存在一个最严重的问题是同步调用支付系统，经常出现的一个情况是**超投** ***（满标时候所收的金额大于募集金额）***，主要是因为和支付机构对接的过程中会出现网络超时，系统当做支付失败处理。如果把超时情况当做支付成功处理，则会出现**少投** ***（满标时候所收的金额少于募集金额）***。所以，同步调用支付如果不改变，在出现网络超时的情况下，都无法做出一个很好的方案解决超投或者少投的问题。

### 第二代订单系统




