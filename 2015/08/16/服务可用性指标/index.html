<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternative" href="/atom.xml" title="p0po's blog" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>服务可用性指标 - p0po's blog</title><link rel="stylesheet" href="/css/main.css" type="text/css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--></head><body><header class="head"><h1 class="head-title u-fl"><a href="/">p0po's blog</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/" class="head-nav__link">Home</a></li><li class="head-nav__item"><a href="/archives" class="head-nav__link">Archives</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time datetime="2015-08-16T14:22:44.000Z" class="post__time">August 16, 2015</time><h1 class="post__title"><a href="/2015/08/16/服务可用性指标/">服务可用性指标</a></h1></header><div class="post__main echo"><p>线上服务可用性评估标准</p>
<p><img src="/img/ha99.png" alt="服务可用性百分比"></p>
<p>引用一句我的签名“概率是时间之后的第五个维度”，时间我们尚且不能控制，何况概率这种事呢？</p>
<p>服务可用性，是衡量一个系统稳定性的标准，大家通常用几个9做为系统稳定性的单位，比如通常说的4个9：</p>
<p>如果衡量时长为一天，那么允许故障时长为8.64秒,</p>
<p>如果衡量时长为一个月，那么允许故障时长为1.752分钟,</p>
<p>如果衡量时长为一年，那么允许故障时长为52.26分钟.</p>
<p>我们可以看出，时间越长对系统的考验越大，因为随着时间增长发生故障的概率会增大，因此长时间提供稳定服务就成了一个系统比较困难的指标。</p>
<p>我们可以简单列举几个常见的故障，比如系统受到ddos攻击，需要切换域名到其他ip，这个大概需要多久呢？</p>
<p>最快15分钟生效，整个互联网同步至少要一多个小时吧。</p>
<p>如果没有应对措施，一年来一次你就达不到4个9了。</p>
<p>再比如，系统上线要停止服务？停一次如果花2分钟，那这个月你就达不到4个9了。</p>
<p>由于流量激增，某个服务挂了，停几十分钟，又要与4个9无缘了。</p>
<p>4个9好难，5个9在国内的公司中是不敢奢求了，我们暂时把目标放低点，先踏踏实实做好3个9，从基础架构和基础设施开始。</p>
</div><footer class="post__foot u-cf"><a href="/2015/08/16/服务可用性指标/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article></main><footer class="foot"><div class="foot-copy u-fl">&copy; 2017 p0po</div><menu class="page-menu u-fr"><li class="page-menu__item"><a title="Previous" href="/2016/03/06/p2p-order-system/" class="page-menu__link icon-arrow-left"></a></li><li class="page-menu__item"><span title="Next" class="page-menu__link icon-arrow-right page-menu__link--disabled"></span></li></menu></footer></body></html>